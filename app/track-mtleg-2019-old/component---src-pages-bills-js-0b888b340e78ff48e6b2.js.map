{"version":3,"sources":["webpack:///./src/pages/bills.js","webpack:///./src/components/BillStatus.jsx","webpack:///./src/components/HeroImage.js","webpack:///./src/components/BillsProcessViz.jsx","webpack:///./src/components/SearchForm.jsx"],"names":["AllBillsView","props","_this","_Component","call","this","state","billIdFilter","d","setBillFilter","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default","input","setState","identifier","toUpperCase","includes","render","renderBills","bills","filter","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_5__","_components_seo__WEBPACK_IMPORTED_MODULE_6__","title","description","_components_HeroImage__WEBPACK_IMPORTED_MODULE_7__","filename","alt","credit","className","styles","searchLabel","_components_SearchForm__WEBPACK_IMPORTED_MODULE_9__","handleInput","placeholder","_components_BillsProcessViz__WEBPACK_IMPORTED_MODULE_8__","href","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_BillStatus_module_css__WEBPACK_IMPORTED_MODULE_1__","_BillStatus_module_css__WEBPACK_IMPORTED_MODULE_1___default","_process_handling__WEBPACK_IMPORTED_MODULE_2__","BillStatus","bill","billStatus","getBillStatus","statusIndicator","style","backgroundColor","color","label","HeroImage","gatsby__WEBPACK_IMPORTED_MODULE_5__","query","data","image","images","edges","find","node","relativePath","gatsby_image__WEBPACK_IMPORTED_MODULE_6___default","fluid","childImageSharp","objectFit","objectPosition","_public_static_d_1239376671_json__WEBPACK_IMPORTED_MODULE_3__","BillsProcessViz","rows","sort","sortByBillNumber","map","Row","react__WEBPACK_IMPORTED_MODULE_2___default","billProcessViz","billCount","length","key","_BillStatus__WEBPACK_IMPORTED_MODULE_4__","gatsby__WEBPACK_IMPORTED_MODULE_3__","to","getBillURLId","SearchForm","value","handleChange","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default","event","target","searchForm","textInput","type","onChange"],"mappings":"0OAeMA,cACF,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OACdA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKC,MAAQ,CACTC,aAAc,SAAAC,GAAC,OAAI,IAGvBN,EAAKO,cAAgBP,EAAKO,cAAcC,KAAnBC,IAAAT,IAPPA,sCAUlBO,cAAA,SAAcG,GACI,KAAVA,EAEAP,KAAKQ,SAAS,CAACN,aAAc,SAAAC,GAAC,OAAI,KAElCH,KAAKQ,SAAS,CAACN,aAAc,SAAAC,GAAC,OAAIA,EAAEM,WAAWC,cAAcC,SAASJ,EAAMG,qBAIpFE,OAAA,WACI,IAAMC,EAAcC,IACfC,OAAOf,KAAKC,MAAMC,cACvB,OAAQc,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACJH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,MAAM,0CACNC,YAAY,8BAEhBN,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACIC,SAAS,gBACTC,IAAI,wBACJC,OAAO,yBAGXV,EAAAC,EAAAC,cAAA,OAAKS,UAAWC,IAAOC,aAAvB,0BACAb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CACIC,YAAa/B,KAAKI,cAClB4B,YAAY,gBAGhBhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAiBnB,MAAOD,IACxBG,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,kCAAyBF,EAAAC,EAAAC,cAAA,KAAGgB,KAAK,6EAAR,cAAzB,UA3CeC,aAgDZxC,8CC/Df,IAAAyC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAAE,EAAAC,GAAAE,EAAAL,EAAA,KAgBeM,IAVI,SAAC/C,GAChB,IAAMgD,EAAOhD,EAAMgD,KACbC,EAAaC,YAAcF,GAEjC,OAAON,EAAArB,EAAAC,cAAA,OAAKS,UAAWC,IAAOmB,gBACtBC,MAAO,CAACC,gBAAiBJ,EAAWK,QACvCL,EAAWM,oHCuCLC,IA3CG,SAACxD,GAAD,OACdoB,EAAAC,EAAAC,cAACmC,EAAA,EAAD,CACEC,MAAK,aAkBL1C,OAAQ,SAAC2C,GACP,IAAMC,EAAQD,EAAKE,OAAOC,MAAMC,KAAK,SAAApB,GACnC,OAAOA,EAAEqB,KAAKC,aAAalD,SAASf,EAAM4B,YAE5C,OAAKgC,EAIDxC,EAAAC,EAAAC,cAAA,OAAKS,UAAU,wBACXX,EAAAC,EAAAC,cAAC4C,EAAA7C,EAAD,CACI8C,MAAOP,EAAMI,KAAKI,gBAAgBD,MAClCtC,IAAK7B,EAAM6B,IACXwC,UAAU,QACVC,eAAe,UACfvC,UAAU,eAEdX,EAAAC,EAAAC,cAAA,OAAKS,UAAU,gBAAgB/B,EAAM8B,SAZxB,MAvBzB6B,KAAAY,2+TCOEC,4FACFxD,OAAA,WACI,IAAME,EAAQd,KAAKJ,MAAMkB,MACnBuD,EAAOvD,EACRwD,KAAKC,KACLC,IAAI,SAAA5B,GAAI,OAAI6B,EAAI7B,KAErB,OAAQ8B,EAAAzD,EAAAC,cAAA,OAAKS,UAAWC,IAAO+C,gBAC3BD,EAAAzD,EAAAC,cAAA,OAAKS,UAAWC,IAAOgD,WAAvB,WAA2C9D,EAAM+D,OAAjD,UACAH,EAAAzD,EAAAC,cAAA,OAAKS,UAAU,gBACV0C,QAValC,aAgBxBsC,EAAM,SAAC7B,GAIT,OAAQ8B,EAAAzD,EAAAC,cAAA,OAAK4D,IAAKlC,EAAKnC,WAAYkB,UAAU,YACzC+C,EAAAzD,EAAAC,cAAA,OAAKS,UAAU,aACX+C,EAAAzD,EAAAC,cAAC6D,EAAA,EAAD,CAAYnC,KAAMA,KAEtB8B,EAAAzD,EAAAC,cAAA,OAAKS,UAAU,WACZ+C,EAAAzD,EAAAC,cAAC8D,EAAA,EAAD,CAAMC,GAAE,SAAWC,YAAatC,IAAUA,EAAKnC,aAElDiE,EAAAzD,EAAAC,cAAA,OAAKS,UAAU,gBACXiB,EAAKvB,SASF+C,+GCjDTe,cACF,SAAAA,EAAYvF,GAAM,IAAAC,EAAA,OAChBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXmF,MAAO,IAETvF,EAAKwF,aAAexF,EAAKwF,aAAahF,KAAlBiF,IAAAzF,IALJA,sCAOlBwF,aAAA,SAAaE,GACT,IAAMhF,EAAQgF,EAAMC,OAAOJ,MAC3BpF,KAAKJ,MAAMmC,YAAYxB,GACvBP,KAAKQ,SAAS,CAAC4E,MAAO7E,OAG1BK,OAAA,WACE,OAAO8D,EAAAzD,EAAAC,cAAA,OAAKS,UAAWC,IAAO6D,YAC1Bf,EAAAzD,EAAAC,cAAA,SAAOS,UAAWC,IAAO8D,UAAWC,KAAK,OACrCP,MAAOpF,KAAKC,MAAMmF,MAClBQ,SAAU5F,KAAKqF,aACfrD,YAAahC,KAAKJ,MAAMoC,mBAnBbG,aAyBVgD","file":"component---src-pages-bills-js-0b888b340e78ff48e6b2.js","sourcesContent":["import React, { Component } from 'react'\n// import { Link } from 'gatsby'\nimport Layout from \"../components/layout\"\nimport SEO from '../components/seo'\nimport HeroImage from \"../components/HeroImage\"\n\nimport BillsProcessViz from '../components/BillsProcessViz'\nimport SearchForm from '../components/SearchForm'\n\n// import { getAllBills } from './../process/handling'\n\nimport {bills} from './../data/2019-bills.json'\n\nimport styles from './bills.module.css'\n\nclass AllBillsView extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            billIdFilter: d => true\n        }\n\n        this.setBillFilter = this.setBillFilter.bind(this)\n    }\n    \n    setBillFilter(input){\n        if (input === '') {\n            // set input to true\n            this.setState({billIdFilter: d => true})\n        } else {\n            this.setState({billIdFilter: d => d.identifier.toUpperCase().includes(input.toUpperCase())})\n        }\n    }\n\n    render() {\n        const renderBills = bills\n            .filter(this.state.billIdFilter)\n        return (<Layout>\n            <SEO\n                title=\"News App: Tracking the 2019 Legislature\"\n                description=\"Search 2019 Montana bills\"\n            />\n            <h1>2019 Montana Bills</h1>\n            <HeroImage\n                filename='committee.jpg'\n                alt=\"Legislative committee\"\n                credit=\"Photo by Eliza Wiley\"\n            /> \n\n            <div className={styles.searchLabel}>Search bills by number</div>\n            <SearchForm \n                handleInput={this.setBillFilter}\n                placeholder='e.g. HB 658'\n            />\n\n            <BillsProcessViz bills={renderBills}/>\n            <br/>\n            <div>Source: LAWS system <a href='http://laws.leg.mt.gov/legprd/LAW0217W$BAIV.return_all_bills?P_SESS=20191'>bills page</a>.</div>\n        </Layout>);\n    }\n  }\n\nexport default AllBillsView","import React from 'react'\n\nimport styles from './BillStatus.module.css'\n\nimport { getBillStatus } from '../process/handling'\n\nconst BillStatus = (props) => {\n    const bill = props.bill\n    const billStatus = getBillStatus(bill)\n    \n    return <div className={styles.statusIndicator}\n            style={{backgroundColor: billStatus.color}}>\n        {billStatus.label}\n    </div>\n}\n\nexport default BillStatus","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\n\n// surprisingly complex - loads all images in image folder then renders based on prop\n// see https://noahgilmore.com/blog/easy-gatsby-image-components/\n// In future, could segment images folder into categories by directory\n\nconst HeroImage = (props) => (\n    <StaticQuery\n      query={graphql`\n        query {\n          images: allFile {\n            edges {\n              node {\n                relativePath\n                name\n                childImageSharp {\n                  fluid(maxWidth: 900) {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n          }\n        }\n      `}\n  \n      render={(data) => {\n        const image = data.images.edges.find(n => {\n          return n.node.relativePath.includes(props.filename);\n        });\n        if (!image) { return null; }\n\n        // const imageSizes = image.node.childImageSharp.sizes;\n        return (\n            <div className=\"hero-image-container\">\n                <Img\n                    fluid={image.node.childImageSharp.fluid}\n                    alt={props.alt}\n                    objectFit=\"cover\"\n                    objectPosition=\"50% 50%\"\n                    className=\"hero-image\"\n                />\n                <div className=\"image-credit\">{props.credit}</div>\n            </div>\n        );\n      }}\n    />\n)\n\nexport default HeroImage\n","import React, { Component } from 'react'\nimport { Link } from 'gatsby'\n\nimport BillStatus from './BillStatus'\n// import BillAction from './BillAction'\n\nimport './tableStyles.css';\nimport styles from './BillsProcessViz.module.css'; \n\nimport { \n    sortByBillNumber, \n    // getImportantActions, \n    // getBillSponsor,\n    getBillURLId\n    } from '../process/handling'\n\nclass BillsProcessViz extends Component {\n    render() {\n        const bills = this.props.bills\n        const rows = bills\n            .sort(sortByBillNumber)\n            .map(bill => Row(bill))\n    \n        return (<div className={styles.billProcessViz}>\n            <div className={styles.billCount}>Showing {bills.length} bills</div>\n            <div className=\"rowContainer\">\n                {rows}\n            </div>\n        </div>);\n    }\n  }\n\nconst Row = (bill) => {\n    // const actions = getImportantActions(bill)\n        // .map((action, i) => BillAction(action, i))\n\n    return (<div key={bill.identifier} className=\"tableRow\">\n        <div className=\"statusCol\">\n            <BillStatus bill={bill} />\n        </div>\n        <div className=\"billCol\">\n           <Link to={`/bill/${getBillURLId(bill)}`}>{bill.identifier}</Link>\n        </div>\n        <div className=\"billTitleCol\">\n           {bill.title}\n        </div>\n\n        {/* <div className={styles.actionsCol}>\n            {actions}\n        </div> */}\n    </div>)\n}\n\nexport default BillsProcessViz","import React, { Component } from 'react'\n\nimport styles from './SearchForm.module.css'\n\nclass SearchForm extends Component {\n    constructor(props){\n      super(props)\n      this.state = {\n        value: '',\n      }\n      this.handleChange = this.handleChange.bind(this)\n    }\n    handleChange(event){\n        const input = event.target.value\n        this.props.handleInput(input)\n        this.setState({value: input})\n    }\n  \n    render(){\n      return <div className={styles.searchForm}>\n          <input className={styles.textInput} type=\"text\"\n              value={this.state.value}\n              onChange={this.handleChange}\n              placeholder={this.props.placeholder} />\n      </div>\n    }\n  \n}\n\nexport default SearchForm"],"sourceRoot":""}